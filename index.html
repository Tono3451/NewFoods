
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <meta name="description" content="Main page">
  <meta name="keywords" content="HTML5, CSS3, JavaScript">

  <title>Main page</title>

  <script src="Templates/Script/xlu-include-file.js"></script>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="Templates/CSS/header.css">
  <link rel="stylesheet" href="Templates/CSS/footer.css">
  <link rel="stylesheet" href="Templates/CSS/button.css">
  <link rel="stylesheet" href="Templates/CSS/ImageTitleTextHorizontal.css">

</head>
<body>
<div id="wrapper">
  <header id="main_header" xlu-include-file="Templates/HTML/header.html"></header>

  <main>
  <div class="button-container">
    <a href="index.html">
      <div id="button1" xlu-include-file="../../Templates/HTML/button.html"></div>
    </a>
    <a href="index.html">
      <div id="button2" xlu-include-file="../../Templates/HTML/button.html"></div>
    </a>
    <a href="index.html">
      <div id="button3" xlu-include-file="../../Templates/HTML/button.html"></div>
    </a>
  </div>

  <div class="image-container">
    <div xlu-include-file="Templates/HTML/ImageTitleTextHorizontal.html"></div>
    <div xlu-include-file="Templates/HTML/ImageTitleTextHorizontal.html"></div>
  </div>
  </main>

<footer id="footer" xlu-include-file="Templates/HTML/footer.html"></footer>
</div>
</body>

  <script>
    setTimeout(function () {
                document.getElementById('button1').querySelector('.button').textContent = "Populares";
                document.getElementById('button2').querySelector('.button').textContent = "Recientes";
                document.getElementById('button3').querySelector('.button').textContent = "Mas vistas";
    }, 200);
  </script>

  <script>
    fetch('/db.json')
            .then(response => response.json())
            .then(data => {
              const container = document.querySelector('.image-container');
              container.innerHTML = ''; // Limpia contenido previo

              data.recipes.forEach(recipe => {
                fetch('Templates/HTML/ImageTitleTextHorizontal.html')
                        .then(response => response.text())
                        .then(template => {
                          const tempDiv = document.createElement('div');
                          tempDiv.innerHTML = template.trim();

                          const cardLink = tempDiv.querySelector('.card-link');
                          cardLink.href = recipe.link;
                          cardLink.querySelector('img').src = recipe.image;
                          cardLink.querySelector('img').alt = recipe.title;
                          cardLink.querySelector('h3').textContent = recipe.title;
                          cardLink.querySelector('.subtitle').textContent = recipe.subtitle;
                          cardLink.querySelector('.text').textContent = recipe.description;

                          container.appendChild(cardLink);
                        });
              });
            })
            .catch(error => console.error('Error cargando recetas:', error));
  </script>

<script>
  setTimeout(function () {
    xLuIncludeFile();
  }, 100);
</script>

</html>