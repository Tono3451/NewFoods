
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
  <meta name="description" content="Main page">
  <meta name="keywords" content="HTML5, CSS3, JavaScript">

  <title>Main page</title>

  <script src="Templates/Script/xlu-include-file.js"></script>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="Templates/CSS/header.css">
  <link rel="stylesheet" href="Templates/CSS/footer.css">
  <link rel="stylesheet" href="Templates/CSS/button.css">
  <link rel="stylesheet" href="Templates/CSS/ImageTitleTextHorizontal.css">

</head>
<body>
<div id="wrapper">
  <header id="main_header" xlu-include-file="Templates/HTML/header.html"></header>

  <main>
  <div class="button-container">
    <a href="index.html">
      <div xlu-include-file="Templates/HTML/button.html"></div>
    </a>
    <a href="index.html">
      <div xlu-include-file="Templates/HTML/button.html"></div>
    </a>
    <a href="index.html">
      <div xlu-include-file="Templates/HTML/button.html"></div>
    </a>
  </div>

  <div class="image-container">
    <div xlu-include-file="Templates/HTML/ImageTitleTextHorizontal.html"></div>
    <div xlu-include-file="Templates/HTML/ImageTitleTextHorizontal.html"></div>
  </div>
  </main>

<footer id="main_footer" xlu-include-file="Templates/HTML/footer.html"></footer>

  <script>
    fetch('http://localhost:3000/recipes')
            .then(response => response.json())
            .then(data => {
              const container = document.querySelector('.image-container');
              container.innerHTML = ''; // Limpia contenido previo

              data.forEach(recipe => {
                fetch('Templates/HTML/ImageTitleTextHorizontal.html')
                        .then(response => response.text())
                        .then(template => {
                          const tempDiv = document.createElement('div');
                          tempDiv.innerHTML = template.trim();

                          const cardLink = tempDiv.querySelector('.card-link');
                          cardLink.href = recipe.link;
                          cardLink.querySelector('img').src = recipe.image;
                          cardLink.querySelector('img').alt = recipe.title;
                          cardLink.querySelector('h3').textContent = recipe.title;
                          cardLink.querySelector('.subtitle').textContent = recipe.subtitle;
                          cardLink.querySelector('.text').textContent = recipe.description;

                          container.appendChild(cardLink);
                        });
              });
            })
            .catch(error => console.error('Error cargando recetas:', error));

  </script>

<script>
  xLuIncludeFile();
</script>
</div>
</body>
</html>